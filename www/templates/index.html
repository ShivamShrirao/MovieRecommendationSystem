{% extends "base.html" %}

{% block content %}
	<style type="text/css">
      .ui-autocomplete-row
      {
        padding:8px;
        background-color: #f4f4f4;
        border-bottom:1px solid #ccc;
        font-weight:bold;
      }
      .ui-autocomplete-row:hover
      {
        background-color: #ddd;
      }
    </style>
	<h1><b>Welcome to Movie Recommendation System</b></h1>
	<form method="get" action="/about">
		<div>
	    	<input id="searchfield" placeholder="Find Similar Movies" type="text" name="q" autofocus autocomplete="off" class="form-control input-lg" style="width: 1200px">
	  	</div>
	</form>
    <script src="{{ url_for('static', filename='js/app.js')}}"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/holtzy/D3-graph-gallery@master/LIB/d3.layout.cloud.js"></script>
    <script>
    var frequency_list = {{ frq|safe }};

    d3.layout.cloud().size([800, 300])
            .words(frequency_list)
            .rotate(0)
            .fontSize(function(d) { return d.size; })
            .on("end", draw)
            .start();

    function draw(words) {
        d3.select("body").append("svg")
                .attr("width", 1050)
                .attr("height", 450)
                .attr("class", "wordcloud")
                .append("g")
                  .attr("transform", "translate(420,200)")
                  .selectAll("text")
                  .data(words)
                    .enter().append("text")
                      .style("font-size", function(d) { return d.size + "px"; })
                      .style("fill", function(d, i) { return  d3.schemeCategory20[i]; })
                    .attr("transform", function(d) {
                        return "translate(" + [d.x, d.y] + ")";
                    })
                    .text(function(d) { return d.text; });
    }
</script>
{% endblock %}