var yearCount=[{ year : 1915, avgEarn : 384047.0689655172 },
{ year : 1916, avgEarn : 250000 },
{ year : 1917, avgEarn : 0 },
{ year : 1918, avgEarn : 500000 },
{ year : 1919, avgEarn : 0 },
{ year : 1920, avgEarn : 0 },
{ year : 1921, avgEarn : 75757.57575757576 },
{ year : 1922, avgEarn : 11770.588235294117 },
{ year : 1923, avgEarn : 27.08695652173913 },
{ year : 1924, avgEarn : 31125.128205128207 },
{ year : 1925, avgEarn : 856227.525 },
{ year : 1926, avgEarn : 32497.56 },
{ year : 1927, avgEarn : 40934.14634146341 },
{ year : 1928, avgEarn : 41176.48484848485 },
{ year : 1929, avgEarn : 57342.10526315789 },
{ year : 1930, avgEarn : 98863.45679012345 },
{ year : 1931, avgEarn : 154124.94949494948 },
{ year : 1932, avgEarn : 23659.444444444445 },
{ year : 1933, avgEarn : 187557.8231292517 },
{ year : 1934, avgEarn : 49950.354609929076 },
{ year : 1935, avgEarn : 69804.38194444444 },
{ year : 1936, avgEarn : 147394.73684210525 },
{ year : 1937, avgEarn : 1194060.7870967742 },
{ year : 1938, avgEarn : 121370.87401574804 },
{ year : 1939, avgEarn : 3352120.768656716 },
{ year : 1940, avgEarn : 1274947.3684210526 },
{ year : 1941, avgEarn : 358364.3469387755 },
{ year : 1942, avgEarn : 2060415.410958904 },
{ year : 1943, avgEarn : 19490.444444444445 },
{ year : 1944, avgEarn : 272570.42253521126 },
{ year : 1945, avgEarn : 387880.1768707483 },
{ year : 1946, avgEarn : 610616.140625 },
{ year : 1947, avgEarn : 50980.519230769234 },
{ year : 1948, avgEarn : 162497.6560509554 },
{ year : 1949, avgEarn : 163915.7988505747 },
{ year : 1950, avgEarn : 1515165.4673913044 },
{ year : 1951, avgEarn : 3314540.8163265307 },
{ year : 1952, avgEarn : 309337.25773195876 },
{ year : 1953, avgEarn : 1161355.0301507537 },
{ year : 1954, avgEarn : 716158.4240837697 },
{ year : 1955, avgEarn : 576481.3157894737 },
{ year : 1956, avgEarn : 1313441.3532110092 },
{ year : 1957, avgEarn : 220910.02049180327 },
{ year : 1958, avgEarn : 424369.0590909091 },
{ year : 1959, avgEarn : 1266924.107142857 },
{ year : 1960, avgEarn : 982132.8302752294 },
{ year : 1961, avgEarn : 1797147.0492610838 },
{ year : 1962, avgEarn : 1680082.672489083 },
{ year : 1963, avgEarn : 1501328.3948497854 },
{ year : 1964, avgEarn : 1533722.6417322834 },
{ year : 1965, avgEarn : 2724832.036437247 },
{ year : 1966, avgEarn : 603347.7614379085 },
{ year : 1967, avgEarn : 2814100.1666666665 },
{ year : 1968, avgEarn : 1387447.0414201184 },
{ year : 1969, avgEarn : 1204652.68852459 },
{ year : 1970, avgEarn : 2000313.4786324787 },
{ year : 1971, avgEarn : 1465969.273209549 },
{ year : 1972, avgEarn : 1701657.3070866142 },
{ year : 1973, avgEarn : 3603374.6713483147 },
{ year : 1974, avgEarn : 2452076.4339080458 },
{ year : 1975, avgEarn : 3324883.743975904 },
{ year : 1976, avgEarn : 2685687.3423423423 },
{ year : 1977, avgEarn : 6688384.053892216 },
{ year : 1978, avgEarn : 5007122.037383177 },
{ year : 1979, avgEarn : 6097835.973372781 },
{ year : 1980, avgEarn : 5941669.261111111 },
{ year : 1981, avgEarn : 5933846.718662953 },
{ year : 1982, avgEarn : 8140796.070652174 },
{ year : 1983, avgEarn : 7189319.119318182 },
{ year : 1984, avgEarn : 8386586.248618784 },
{ year : 1985, avgEarn : 8434391.929347826 },
{ year : 1986, avgEarn : 8040867.314578005 },
{ year : 1987, avgEarn : 7519758.9004329005 },
{ year : 1988, avgEarn : 9149093.57601713 },
{ year : 1989, avgEarn : 12263984.113895217 },
{ year : 1990, avgEarn : 13588370.373239437 },
{ year : 1991, avgEarn : 12075245.176056338 },
{ year : 1992, avgEarn : 14259323.002207506 },
{ year : 1993, avgEarn : 14791656.501022495 },
{ year : 1994, avgEarn : 13519887.134191176 },
{ year : 1995, avgEarn : 15102004.026666667 },
{ year : 1996, avgEarn : 13345808.009478673 },
{ year : 1997, avgEarn : 17359758.19818457 },
{ year : 1998, avgEarn : 13770073.970914127 },
{ year : 1999, avgEarn : 16783140.734439835 },
{ year : 2000, avgEarn : 14653322.359137056 },
{ year : 2001, avgEarn : 16345135.286210893 },
{ year : 2002, avgEarn : 17111830.265780732 },
{ year : 2003, avgEarn : 17876560.166666668 },
{ year : 2004, avgEarn : 17808602.71370968 },
{ year : 2005, avgEarn : 14958128.620996442 },
{ year : 2006, avgEarn : 14474882.044129236 },
{ year : 2007, avgEarn : 14938206.300227445 },
{ year : 2008, avgEarn : 14051174.358503401 },
{ year : 2009, avgEarn : 14744508.438485805 },
{ year : 2010, avgEarn : 15621035.916055962 },
{ year : 2011, avgEarn : 14569985.707683073 },
{ year : 2012, avgEarn : 15141634.625217896 },
{ year : 2013, avgEarn : 14132022.63645999 },
{ year : 2014, avgEarn : 13401944.829194121 },
{ year : 2015, avgEarn : 15136219.844012605 },
{ year : 2016, avgEarn : 19013638.721321695 },
{ year : 2017, avgEarn : 28391515.96045198 }
]

var svg=d3.select("#svg1");

var padding={top:20,right:30, bottom:30,left:60};
var colors=d3.schemeCategory20b;
var chartArea={
		"width":parseInt(svg.style("width"))-padding.left-padding.right,
		"height":parseInt(svg.style("height"))-padding.top-padding.bottom,

};

var yScale = d3.scaleLinear()
	.domain([0,d3.max(yearCount,function (d,i) {return d.avgEarn})])
	.range([chartArea.height,0]).nice();

var xScale = d3.scaleBand()
	.domain(yearCount.map(function(d){return d.year}))
	.range([0,chartArea.width])
	.padding(.2);


var xAxis=svg.append("g")
	.classed("xAxis",true)
	.attr(
		'transform','translate('+padding.left+','+(chartArea.height+ padding.top)+')'
		)
	.call(d3.axisBottom(xScale));

var yAxisFn=d3.axisLeft(yScale);
var yAxis=svg.append("g")
	.classed("yAxis",true)
	.attr(
		'transform','translate('+padding.left+','+padding.top+')'
		);
yAxisFn(yAxis);


var grid=svg.append("g")
	.attr("class","grid")
	.attr(
		'transform','translate('+padding.left+','+padding.top+')'
		)
	.call(d3.axisLeft(yScale)
		.tickSize(-(chartArea.width))
		.tickFormat("")
		);



var rectGrp=svg.append("g").attr('transform','translate('+padding.left+','+padding.top+')'
	);

rectGrp.selectAll("rect").data(yearCount).enter()
	.append("rect")
	.attr("width",xScale.bandwidth())
	.attr("height", function (d,i) {
		return chartArea.height-yScale(d.avgEarn);
	})
	.attr("x",function (d,i){
		return xScale(d.year);
	})
	.attr("y",function (d,i){
		return yScale(d.avgEarn);
	})
	.attr("fill",function (d,i){
		return colors[i];
	});
