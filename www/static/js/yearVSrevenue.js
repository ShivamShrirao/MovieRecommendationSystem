var yearCount= [
{ year : 1914, avgBudg : 11.052631578947368 },
{ year : 1915, avgBudg : 5025.551724137931 },
{ year : 1916, avgBudg : 268585.96875 },
{ year : 1917, avgBudg : 0 },
{ year : 1918, avgBudg : 15625 },
{ year : 1919, avgBudg : 1.826086956521739 },
{ year : 1920, avgBudg : 3689.655172413793 },
{ year : 1921, avgBudg : 53030.30303030303 },
{ year : 1922, avgBudg : 33911.76470588235 },
{ year : 1923, avgBudg : 15217.391304347826 },
{ year : 1924, avgBudg : 52988.1282051282 },
{ year : 1925, avgBudg : 137289.8 },
{ year : 1926, avgBudg : 31729.1 },
{ year : 1927, avgBudg : 2389856.1707317075 },
{ year : 1928, avgBudg : 156141.25757575757 	},
{ year : 1929, avgBudg : 34348.48684210526 },
{ year : 1930, avgBudg : 64201.72839506173 },
{ year : 1931, avgBudg : 33444.40404040404 },
{ year : 1932, avgBudg : 10182.155555555555 },
{ year : 1933, avgBudg : 36152.115646258506 },
{ year : 1934, avgBudg : 21118.91489361702 },
{ year : 1935, avgBudg : 33155.6875 },
{ year : 1936, avgBudg : 53085.53289473684 },
{ year : 1937, avgBudg : 66154.34193548387 },
{ year : 1938, avgBudg : 69031.46456692913 },
{ year : 1939, avgBudg : 201322.68656716417 },
{ year : 1940, avgBudg : 107496.91447368421 },
{ year : 1941, avgBudg : 49016.272108843536 },
{ year : 1942, avgBudg : 53006.849315068495 },
{ year : 1943, avgBudg : 41787.61111111111 },
{ year : 1944, avgBudg : 138791.8309859155 },
{ year : 1945, avgBudg : 63372.47619047619 },
{ year : 1946, avgBudg : 106680.21875 },
{ year : 1947, avgBudg : 70397.43589743589 },
{ year : 1948, avgBudg : 136372.15286624205 },
{ year : 1949, avgBudg : 88003.62068965517 },
{ year : 1950, avgBudg : 66227.09239130435 },
{ year : 1951, avgBudg : 137060.48469387754 },
{ year : 1952, avgBudg : 80976.23711340207 },
{ year : 1953, avgBudg : 125319.24623115578 },
{ year : 1954, avgBudg : 369050.17277486913 },
{ year : 1955, avgBudg : 118903.04784688995 },
{ year : 1956, avgBudg : 288311.9266055046 },
{ year : 1957, avgBudg : 100438.52459016393 },
{ year : 1958, avgBudg : 106482.67272727273 },
{ year : 1959, avgBudg : 223521.64285714287 },
{ year : 1960, avgBudg : 212146.5504587156 },
{ year : 1961, avgBudg : 243581.28078817733 },
{ year : 1962, avgBudg : 683184.1353711791 },
{ year : 1963, avgBudg : 353443.37339055794 },
{ year : 1964, avgBudg : 348004.905511811 },
{ year : 1965, avgBudg : 314215.5182186235 },
{ year : 1966, avgBudg : 649333.2843137255 },
{ year : 1967, avgBudg : 350858.34027777775 },
{ year : 1968, avgBudg : 355914.5325443787 },
{ year : 1969, avgBudg : 527479.3016393443 },
{ year : 1970, avgBudg : 535898.6267806268 },
{ year : 1971, avgBudg : 250159.31564986738 },
{ year : 1972, avgBudg : 153692.26771653543 },
{ year : 1973, avgBudg : 215514.8735955056 },
{ year : 1974, avgBudg : 261817.5488505747 },
{ year : 1975, avgBudg : 297634.6385542169 },
{ year : 1976, avgBudg : 464592.94294294296 },
{ year : 1977, avgBudg : 648268.248502994 },
{ year : 1978, avgBudg : 766460.230529595 },
{ year : 1979, avgBudg : 993276.3313609468 },
{ year : 1980, avgBudg : 1250429.2444444445 },
{ year : 1981, avgBudg : 1630558.9693593315 },
{ year : 1982, avgBudg : 1657845.108695652 },
{ year : 1983, avgBudg : 1744538.8920454546 },
{ year : 1984, avgBudg : 2413071.723756906 },
{ year : 1985, avgBudg : 2628821.2554347827 },
{ year : 1986, avgBudg : 2317117.1764705884 },
{ year : 1987, avgBudg : 1898659.5606060605 },
{ year : 1988, avgBudg : 2565327.7366167023 },
{ year : 1989, avgBudg : 2833191.423690205 },
{ year : 1990, avgBudg : 3744749.276995305 },
{ year : 1991, avgBudg : 4350647.131455399 },
{ year : 1992, avgBudg : 4023367.5938189845 },
{ year : 1993, avgBudg : 4016248.9652351737 },
{ year : 1994, avgBudg : 4896337.365808823 },
{ year : 1995, avgBudg : 5641954.131666667 },
{ year : 1996, avgBudg : 6147538.804107425 },
{ year : 1997, avgBudg : 7702899.862329803 },
{ year : 1998, avgBudg : 6743089.28531856 },
{ year : 1999, avgBudg : 8499623.34439834 },
{ year : 2000, avgBudg : 7729131.052030457 },
{ year : 2001, avgBudg : 7268979.704519119 },
{ year : 2002, avgBudg : 7080073.53820598 },
{ year : 2003, avgBudg : 7341818.18707483 },
{ year : 2004, avgBudg : 7730384.161290322 },
{ year : 2005, avgBudg : 6857329.6521352315 },
{ year : 2006, avgBudg : 6463566.001576044 },
{ year : 2007, avgBudg : 6147995.427596664 },
{ year : 2008, avgBudg : 6182208.606122449 },
{ year : 2009, avgBudg : 6004687.243533123 },
{ year : 2010, avgBudg : 6678556.310459694 },
{ year : 2011, avgBudg : 5808892.932172869 },
{ year : 2012, avgBudg : 5280260.5973271355 },
{ year : 2013, avgBudg : 5300806.492315846 },
{ year : 2014, avgBudg : 4512726.901165738 },
{ year : 2015, avgBudg : 4564284.992121848 },
{ year : 2016, avgBudg : 6490771.269326683 },
{ year : 2017, avgBudg : 9014233.280602636 },
{ year : 2018, avgBudg : 6000000 }
]

var svg=d3.select("#svg2");

var padding={top:20,right:30, bottom:30,left:60};
var colors=d3.schemeCategory20b;
var chartArea={
		"width":parseInt(svg.style("width"))-padding.left-padding.right,
		"height":parseInt(svg.style("height"))-padding.top-padding.bottom,

};

var yScale = d3.scaleLinear()
	.domain([0,d3.max(yearCount,function (d,i) {return d.avgBudg})])
	.range([chartArea.height,0]).nice();

var xScale = d3.scaleBand()
	.domain(yearCount.map(function(d){return d.year}))
	.range([0,chartArea.width])
	.padding(.2);


var xAxis=svg.append("g")
	.classed("xAxis",true)
	.attr(
		'transform','translate('+padding.left+','+(chartArea.height+ padding.top)+')'
		)
	.call(d3.axisBottom(xScale));

var yAxisFn=d3.axisLeft(yScale);
var yAxis=svg.append("g")
	.classed("yAxis",true)
	.attr(
		'transform','translate('+padding.left+','+padding.top+')'
		);
yAxisFn(yAxis);


var grid=svg.append("g")
	.attr("class","grid")
	.attr(
		'transform','translate('+padding.left+','+padding.top+')'
		)
	.call(d3.axisLeft(yScale)
		.tickSize(-(chartArea.width))
		.tickFormat("")
		);



var rectGrp=svg.append("g").attr('transform','translate('+padding.left+','+padding.top+')'
	);

rectGrp.selectAll("rect").data(yearCount).enter()
	.append("rect")
	.attr("width",xScale.bandwidth())
	.attr("height", function (d,i) {
		return chartArea.height-yScale(d.avgBudg);
	})
	.attr("x",function (d,i){
		return xScale(d.year);
	})
	.attr("y",function (d,i){
		return yScale(d.avgBudg);
	})
	.attr("fill",function (d){
		return "#483D8B";
	});
